# 🚀 立即部署 - 三步完成

## 服务器信息
- IP: 182.92.59.70
- 用户: root
- 密码: ryg@893012

---

## 第一步：连接服务器

```bash
ssh root@182.92.59.70
# 输入密码: ryg@893012
```

---

## 第二步：在服务器上执行（复制全部）

```bash
curl -fsSL https://rpm.nodesource.com/setup_18.x | bash - && yum install -y nodejs && npm install -g pm2 serve && docker run -d --name mongodb -p 27017:27017 --restart=always mongo:latest || docker start mongodb && mkdir -p /opt/wladmin/{frontend,backend,logs} && firewall-cmd --permanent --add-port=3004/tcp && firewall-cmd --permanent --add-port=3002/tcp && firewall-cmd --reload && echo "✅ 环境配置完成"
```

---

## 第三步：上传文件（在本地新终端执行）

```bash
cd /Users/liudong/Desktop/myGitProgect/wladmin

# 上传前端（输入密码: ryg@893012）
scp -r dist/* root@182.92.59.70:/opt/wladmin/frontend/

# 上传后端（输入密码: ryg@893012）
scp -r server/* root@182.92.59.70:/opt/wladmin/backend/

# 上传配置（输入密码: ryg@893012）
scp deploy/ecosystem.config.js root@182.92.59.70:/opt/wladmin/
```

---

## 第四步：在服务器上启动（回到SSH会话）

```bash
cd /opt/wladmin/backend && npm install --production && cd /opt/wladmin && pm2 start ecosystem.config.js && pm2 save && pm2 list
```

---

## 第五步：配置阿里云安全组

1. 登录阿里云控制台
2. ECS -> 安全组 -> 配置规则
3. 添加两条规则：
   - 端口3004，TCP，0.0.0.0/0
   - 端口3002，TCP，0.0.0.0/0

---

## ✅ 完成！

访问：**http://182.92.59.70:3004**

默认登录：
- 用户名: admin
- 密码: 123456

---

## 🔧 如果遇到问题

在服务器上执行：
```bash
pm2 logs          # 查看日志
pm2 restart all   # 重启服务
pm2 list          # 检查状态
```
